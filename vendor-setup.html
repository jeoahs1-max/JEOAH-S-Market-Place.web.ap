<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajouter un Produit - JEOAH'S Marketplace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Styles pour la notification */
        #notification-box {
            display: none;
            /* Positionnement professionnel en haut à droite */
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 50;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

    <div id="notification-box" class="p-4 rounded-lg shadow-xl text-white font-medium"></div>
    
    <div class="container mx-auto p-4 sm:p-8">
        <header class="mb-8">
            <h1 class="text-3xl font-bold text-gray-800">Ajouter un Nouveau Produit</h1>
            <p class="text-gray-500">Remplissez les détails pour mettre votre article en vente sur JEOAH'S.</p>
        </header>

        <form id="productForm" class="bg-white p-6 rounded-xl shadow-lg space-y-6">
            
            <div>
                <h2 class="text-xl font-semibold mb-3 border-b pb-2">Informations de base</h2>
                
                <label for="product_name" class="block text-sm font-medium text-gray-700">Nom du Produit</label>
                <input type="text" id="product_name" name="product_name" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3 border">
            </div>

            <div>
                <label for="product_description" class="block text-sm font-medium text-gray-700">Description</label>
                <textarea id="product_description" name="product_description" rows="4" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3 border"></textarea>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="product_category" class="block text-sm font-medium text-gray-700">Catégorie</label>
                    <select id="product_category" name="product_category" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3 border">
                        <option value="">Sélectionner une catégorie</option>
                        <option value="mode">Mode & Vêtements</option>
                        <option value="technologie">Technologie & Gadgets</option>
                        <option value="maison">Maison & Décoration</option>
                        </select>
                </div>
                <div>
                    <label for="product_stock" class="block text-sm font-medium text-gray-700">Stock Initial (Quantité)</label>
                    <input type="number" id="product_stock" name="product_stock" min="1" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3 border">
                </div>
            </div>

            <div>
                <h2 class="text-xl font-semibold mb-3 border-b pb-2">Tarification et Affiliation</h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                    <div>
                        <label for="product_cost" class="block text-sm font-medium text-gray-700">Coût du Produit (pour vous)</label>
                        <input type="number" id="product_cost" name="product_cost" step="0.01" min="0" value="0.00" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3 border">
                    </div>
                    <div>
                        <label for="selling_price" class="block text-sm font-medium text-gray-700">Prix de Vente (Client)</label>
                        <input type="number" id="selling_price" name="selling_price" step="0.01" min="0.01" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3 border">
                    </div>
                    <div>
                        <label for="affiliate_commission" class="block text-sm font-medium text-gray-700">Commission Affilié (%)</label>
                        <input type="number" id="affiliate_commission" name="affiliate_commission" min="0" max="100" value="10" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3 border">
                    </div>
                </div>
            </div>

            <div>
                <h2 class="text-xl font-semibold mb-3 border-b pb-2">Images du Produit</h2>
                <label for="product_images" class="block text-sm font-medium text-gray-700">Télécharger les images (Max 5)</label>
                <input type="file" id="product_images" name="product_images" multiple accept="image/*" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3">
                <p class="text-xs text-gray-500 mt-1">Première image utilisée comme vignette.</p>
            </div>


            <div class="pt-6">
                <button type="submit" id="submit-button" class="w-full bg-indigo-600 text-white py-3 px-4 rounded-md hover:bg-indigo-700 transition duration-150 ease-in-out font-semibold">
                    Sauvegarder le Produit
                </button>
            </div>
        </form>

    </div>


    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getStorage } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-storage.js";
        
        // =======================================================
        // ATTENTION : REMPLACER CES VALEURS PAR VOS CLÉS RÉELLES
        // =======================================================
        const firebaseConfig = { 
            apiKey: "VOTRE_API_KEY",
            authDomain: "VOTRE_AUTH_DOMAIN",
            projectId: "VOTRE_PROJECT_ID",
            storageBucket: "VOTRE_STORAGE_BUCKET", 
            messagingSenderId: "VOTRE_MESSAGING_SENDER_ID",
            appId: "VOTRE_APP_ID"
        }; 

        const app = initializeApp(firebaseConfig);

        // Rendre les services accessibles globalement (NÉCESSAIRE pour app.js)
        window.app = app;
        window.auth = getAuth(app);
        window.db = getFirestore(app);
        window.storage = getStorage(app);
    </script>
    
    <script type="module" src="app.js"></script>

</body>
</html>
